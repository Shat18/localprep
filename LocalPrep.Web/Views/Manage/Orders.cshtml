@model LocalPrep.Web.Models.responsedata
@{ ViewBag.Title = "Orders";
    Layout = "~/Views/Shared/_AdminLayout.cshtml"; }


<div class="col-lg-12 mb-5">

    @if (Model.roleResponse == "CUSTOMER")
    {

<div class="">
    <ul class="nav nav-pills mb-3 top-tab-list" id="pills-tab" role="tablist">
        <li class="nav-item" role="presentation">
            <button class="nav-link active" id="pills-home-tab" data-bs-toggle="pill" data-bs-target="#pills-1" type="button" role="tab" aria-controls="pills-home" aria-selected="true">Active Order</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="pills-profile-tab" data-bs-toggle="pill" data-bs-target="#pills-2" type="button" role="tab" aria-controls="pills-profile" aria-selected="false">Order History</button>
        </li>

    </ul>
    <div class="tab-content" id="pills-tabContent">

        <div class="tab-pane fade active show" id="pills-1" role="tabpanel" aria-labelledby="pills-home-tab">
            <div class="p-4">
                <div class="table-responsive">
                    <table class="table table-sm table-list" cellpadding="10">
                        <thead>
                            <tr>
                                <th scope="col">Order ID</th>
                                <th scope="col">Quantity</th>
                                <th scope="col">Price</th>
                                <th scope="col" width="100">View Details</th>

                            </tr>
                        </thead>
                        <tbody>
                            @if (Model != null)
                            {
                                if (Model.data.Count > 0)
                                {

                                    foreach (var meals in Model.data.FirstOrDefault().Meals)
                                    {
                    <tr>
                        <td>#@meals.id</td>
                        <td>@meals.quantity</td>
                        <td>$@meals.price</td>
                        @*@Html.HiddenFor(m => m.HiddenId, new { Value =@data.id })*@
                        @*@Html.HiddenFor(m => m.HiddenId)*@
                        <td class="text-center">
                            @*<a href="" class="link-more view-detail">*@
                            <a href="@Url.Action("OrdersDetails", "Manage", new { mealId = meals.id })" class="link-more view-detail">
                                <svg xmlns="http://www.w3.org/2000/svg" width="7.198" height="12.589" viewBox="0 0 7.198 12.589">
                                    <path id="ios-arrow-back" d="M16.278,12.486,11.515,7.727a.9.9,0,0,1,1.274-1.27l5.4,5.393a.9.9,0,0,1,.026,1.24l-5.419,5.43a.9.9,0,1,1-1.274-1.27Z" transform="translate(-11.251 -6.194)" fill="#CB6319"></path>
                                </svg>

                            </a>
                        </td>
                    </tr>}

                                }

                            }
                    </tbody>
                    </table>
                </div>

            </div>
        </div>

        <div class="tab-pane fade" id="pills-2" role="tabpanel" aria-labelledby="pills-profile-tab">
            @{ Html.RenderAction("_PreppersOrderHistoryList", "Manage");}
        </div>

    </div>

</div> 
    
    }

            else
            {
<div class="">
    <ul class="nav nav-pills mb-3 top-tab-list" id="pills-tab" role="tablist">
        <li class="nav-item" role="presentation">
            <button class="nav-link active" id="pills-home-tab" data-bs-toggle="pill" data-bs-target="#pills-1" type="button" role="tab" aria-controls="pills-home" aria-selected="true">Active Order</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="pills-profile-tab" data-bs-toggle="pill" data-bs-target="#pills-2" type="button" role="tab" aria-controls="pills-profile" aria-selected="false">Order History</button>
        </li>

    </ul>
    <div class="tab-content" id="pills-tabContent">

        <div class="tab-pane fade active show" id="pills-1" role="tabpanel" aria-labelledby="pills-home-tab">
            <div class="p-4">
                <div class="table-responsive">
                    <table class="table table-sm table-list" cellpadding="10">
                        <thead>
                            <tr>
                                <th scope="col">Order ID</th>
                                <th scope="col">Quantity</th>
                                <th scope="col">Price</th>
                                <th scope="col" width="100">View Details</th>

                            </tr>
                        </thead>                       
                        <tbody>
                            @if (Model != null)
                            {
                        if (Model.data.Count > 0)
                        {
                            foreach (var meals in Model.data.FirstOrDefault().Meals)
                            {
                        <tr>
                            <td>#@meals.id</td>
                            <td>@meals.quantity</td>
                            <td>$@meals.price</td>
                            @*@Html.HiddenFor(m => m.HiddenId, new { Value =@data.id })*@
                            @*@Html.HiddenFor(m => m.HiddenId)*@
                            <td class="text-center">
                                @*@Html.ActionLink("View Detail", "OrdersDetails", "Manage",
            new { mealId = @meals.id },
            new { @class = "btn btn-primary" })*@

                                <a href="@Url.Action("OrdersDetails", "Manage", new { mealId = meals.id })" class="link-more view-detail">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="7.198" height="12.589" viewBox="0 0 7.198 12.589">
                                        <path id="ios-arrow-back" d="M16.278,12.486,11.515,7.727a.9.9,0,0,1,1.274-1.27l5.4,5.393a.9.9,0,0,1,.026,1.24l-5.419,5.43a.9.9,0,1,1-1.274-1.27Z" transform="translate(-11.251 -6.194)" fill="#CB6319"></path>
                                    </svg>

                                </a>
                            </td>
                        </tr>
                            }

                        }
                            }
                                        </tbody>
                        


                    
                                    </table>
                </div>

            </div>
        </div>

        <div class="tab-pane fade" id="pills-2" role="tabpanel" aria-labelledby="pills-profile-tab">
            
                @{ Html.RenderAction("_PreppersOrderHistoryList", "Manage");}            

        </div>

    </div>

</div>}


</div>

@section Scripts
{

    <script src="~/js/bootstrap.min.js"></script>
}








